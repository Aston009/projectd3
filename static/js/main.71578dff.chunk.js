(this.webpackJsonprectangle=this.webpackJsonprectangle||[]).push([[0],{17:function(t,e,a){t.exports=a.p+"static/media/plus.cdc95f38.svg"},18:function(t,e,a){t.exports=a.p+"static/media/eye.8a4fc4d1.svg"},28:function(t,e,a){t.exports=a(34)},33:function(t,e,a){},34:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),o=a(16),l=a.n(o),i=a(11),c=a(2),d=(a(33),[{color:"#ff6364",text:"-200",altText:"20000"},{color:"#ffa868",text:"-160",altText:"17776"},{color:"#ffe672",text:"-120",altText:"15554"},{color:"#d3ff84",text:"-80",altText:"13332"},{color:"#96ff96",text:"-20",altText:"11110"},{color:"#96ffd4",text:"20",altText:"8888"},{color:"#8ef3ff",text:"80",altText:"6666"},{color:"#7dd1ff",text:"120",altText:"4444"},{color:"#6999ff",text:"160",altText:"2222"},{color:"#5455ff",text:"200",altText:"0"}]),m=function(t){var e=t.onChange,a=t.top,r=t.bottom,o=t.openGradientModal,l=t.gradientDirection,i=function(t,n,o){var l,i,c=document.getElementById("colors").getBoundingClientRect().y;"top"===t?(l=Math.min(Math.round((n.pageY-c)/50),r-1),e(l<0?0:l,r,o)):(i=Math.max(Math.round((n.pageY-c)/50),a+1),e(a,i>d.length-1?d.length:i,o))};return n.a.createElement("div",{className:"colors",id:"colors"},n.a.createElement("button",{onClick:o},"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),n.a.createElement("h6",null,"Temperature"),n.a.createElement("div",{className:"hr top",draggable:"true",onDrag:function(t){return i("top",t)},onDragEnd:function(t){return i("top",t,!0)},style:{top:50*a}}),d.map((function(t,e){return n.a.createElement("div",{className:"color-item",style:{backgroundColor:t.color},id:e,key:e},n.a.createElement("span",null,"center"!==l?t.text:t.altText))})),n.a.createElement("div",{className:"hr bottom",draggable:"true",onDrag:function(t){return i("bottom",t)},onDragEnd:function(t){return i("bottom",t,!0)},style:{top:50*r}}))},s=function(t){var e=t.onClose,a=t.onSubmit,r=t.header,o=t.form;return n.a.createElement("div",{className:"modal"},n.a.createElement("button",{onClick:e,className:"close"},"\xd7"),n.a.createElement("form",null,n.a.createElement("h2",null,r,":"),o,n.a.createElement("button",{onClick:function(t){a(t),e()},type:"button",className:"submit"},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")))},p=a(17),u=a.n(p),f=a(18),h=a.n(f),g=a(19),v=a(1),w=function(t,e,a){var r;"bottom-right"===e?r=t.append("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","100%"):"bottom-left"===e?r=t.append("linearGradient").attr("id","gradient").attr("x1","100%").attr("y1","0%").attr("x2","0%").attr("y2","100%"):"top-right"===e?r=t.append("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","100%").attr("x2","100%").attr("y2","0%"):"top-left"===e?r=t.append("linearGradient").attr("id","gradient").attr("x1","100%").attr("y1","100%").attr("x2","0%").attr("y2","0%"):"center"===e&&(r=t.append("radialGradient").attr("id","gradient").attr("r","0.8")),a.reverse().forEach((function(t,e){return r.append("stop").attr("offset",100/a.length*(e+1)+"%").attr("stop-color",t.color).attr("stop-opacity",1)}))},b=function(t,e,a,r,n,o,l){v.f(".rect").empty()||localStorage.setItem("prevZoom",JSON.stringify(window.prevZoom||{}));var i=JSON.parse(localStorage.getItem("prevZoom")||"{}"),c=a/(window.prevZoom&&window.prevZoom.transform.k||i.transform&&i.transform.k||1),d=r/(window.prevZoom&&window.prevZoom.transform.k||i.transform&&i.transform.k||1);localStorage.setItem("rectParams",JSON.stringify([t,e,a,r,n,o])),v.f("#clipGradient").html("").append("rect").attr("x",c).attr("y",d).attr("width",n).attr("height",o),v.f("#rectsG").html("").append("g").attr("id",l).attr("class","rect");var m=v.f("#".concat(l)).append("g").attr("id","mainG");m.append("rect").attr("x",c).attr("y",d).attr("width",n).attr("height",o).attr("stroke-width",1).attr("stroke","black").attr("fill","none");for(var s=n/t,p=[],u=s;Math.round(u)<Math.round(n);u+=s)p.push(u),m.append("line").attr("x1",u+c).attr("y1",0+d).attr("x2",u+c).attr("y2",o+d).attr("stroke-width",1).attr("stroke","black");p.push(n);for(var f=o/e,h=[],g=f;Math.round(g)<Math.round(o);g+=f)h.push(g),m.append("line").attr("x1",0+c).attr("y1",g+d).attr("x2",n+c).attr("y2",g+d).attr("stroke-width",1).attr("stroke","black");h.push(o);for(var w=[[0,0,0,0]],b=0;b<p.length+h.length-1;b++){var y=void 0,x=void 0,E=void 0,k=void 0;b<=p.length-1?(y=p[b],E=0):(y=n,E=(b-p.length+1)*f),b<=h.length-1?(k=h[b],x=0):(k=o,x=(b-h.length+1)*s),w.push([y,E,x,k]),m.append("line").attr("x1",y+c).attr("y1",E+d).attr("x2",x+c).attr("y2",k+d).attr("stroke-width",1).attr("stroke","black")}for(var j=0;j<p.length+h.length-1;j++){var O=void 0,S=void 0,G=void 0,C=void 0;j<p.length-1?(O=p[j],G=0):(O=n,G=(j-p.length+1)*f),j<=h.length-1?(C=h[j],S=0):(C=o,S=(j-h.length+1)*s),m.append("line").attr("x1",O+c).attr("y1",G+d).attr("x2",S+c).attr("y2",C+d).attr("stroke-width",1).attr("stroke","black")}for(var Z=0;Z<p.length+h.length;Z++){var N=void 0,D=void 0,T=void 0,I=void 0;Z<p.length-1?(N=p[p.length-2-Z],T=0):(N=0,T=(Z-p.length+1)*f),Z<=h.length-1?(I=h[Z],D=n):(I=o,D=n-(Z-h.length+1)*s),m.append("line").attr("x1",N+c).attr("y1",T+d).attr("x2",D+c).attr("y2",I+d).attr("stroke-width",1).attr("stroke","black")}},y=function(t){for(var e="",a=String(t),r=a.length-1;r>=0;r--)e=((a.length-r)%3===0?" ":"")+a[r]+e;return e},x=function(t,e){var a=v.g("#gradientG defs");a.select("#gradient").remove(),w(a,e,t)};var E=function(){var t=Object(r.useState)([0,d.length]),e=Object(c.a)(t,2),a=e[0],o=e[1],l=Object(r.useState)(!1),p=Object(c.a)(l,2),f=p[0],E=p[1],k=Object(r.useState)(!0),j=Object(c.a)(k,2),O=j[0],S=j[1],G=Object(r.useState)(!1),C=Object(c.a)(G,2),Z=C[0],N=C[1],D=Object(r.useState)([0,0]),T=Object(c.a)(D,2),I=T[0],B=T[1],M=Object(r.useState)("bottom-right"),z=Object(c.a)(M,2),F=z[0],J=z[1],P=Object(r.useState)(!1),R=Object(c.a)(P,2),Y=R[0],W=R[1],X=Object(r.useState)(null),H=Object(c.a)(X,2),$=H[0],q=H[1];return Object(r.useEffect)((function(){var t=function(t,e){var a=document.getElementById("canvas").getBoundingClientRect(),r=0,n=0,o=30,l=40,i=a.width-l-n,c=a.height+10-r-o,d=v.f("#canvas").append("svg").attr("width",i+l+n).attr("height",c+r+o).append("g").attr("transform","translate("+l+","+r+")"),m=v.e().range([c,0]).domain([0,100*c/i]),s=v.e().range([0,i]).domain([0,100]),p=v.b(m).tickSize(-a.width).ticks(5).tickFormat(y),u=d.append("g").call(p),f=v.a(s).tickSize(-a.height).ticks(10).tickFormat(y),h=d.append("g").attr("transform","translate(0, ".concat(c,")")).call(f);d.append("text").text("Y").attr("x",0-l).attr("y",c/2),d.append("text").text("X").attr("x",i/2).attr("y",c+o).style("text-anchor","middle");var b=v.f("#canvas").append("svg").attr("id","rects").attr("clip-path","url(#clip)"),x=b.append("g").attr("id","gradientG").attr("clip-path","url(#clipGradient)");x.append("rect").attr("width",2*i).attr("height",2*i).attr("x",41-i).attr("y",-i+c).attr("fill","url(#gradient)");var E=x.append("defs");E.append("clipPath").attr("id","clipGradient"),w(E,e,t),b.append("defs").append("clipPath").attr("transform","translate(40, 0)").attr("id","clip").append("rect").attr("width",i).attr("height",c),b.append("g").attr("id","rectsG");var k=v.h().scaleExtent([1,1]).translateExtent([[-i,-i+c],[i+40,i+c+20]]).on("zoom",(function(){v.f("#rectsG").attr("transform",v.d.transform),v.f("#gradientG").attr("transform",v.d.transform),h.call(f.scale(v.d.transform.rescaleX(s))),u.call(p.scale(v.d.transform.rescaleY(m))),window.prevZoom=Object(g.a)({},v.d)}));return v.f("#rects").call(k),[s,m]}(d.slice(a[0],a[1]),F);q(t);var e="rect"+Date.now(),r=JSON.parse(localStorage.getItem("rectParams")||"[]");if(r.length)b.apply(void 0,Object(i.a)(r).concat([e]));else{var n=document.getElementById("canvas").getBoundingClientRect(),o=t[0].invert(window.innerWidth/2-150)*((n.width-40)/100)-47-(window.prevZoom&&window.prevZoom.transform.x||0),l=n.height-t[1].invert(window.innerHeight/2-150)*((n.width-40)/100)-60-(window.prevZoom&&window.prevZoom.transform.y||0);W(!1),b(3,3,o,l,300,300,e)}}),[]),Object(r.useEffect)((function(){if($&&$.length){var t=document.getElementById("canvas").getBoundingClientRect(),e=v.c().on("end",(function(){var e=$[0].invert(v.d.subject.x)*((t.width-40)/100)-47-(window.prevZoom&&window.prevZoom.transform.x||0),a=t.height-$[1].invert(v.d.subject.y)*((t.width-40)/100)-60-(window.prevZoom&&window.prevZoom.transform.y||0),r="rect"+Date.now();W(!1),b.apply(void 0,Object(i.a)(I).concat([e,a,(v.d.x-v.d.subject.x)/(window.prevZoom&&window.prevZoom.transform.k||1),(v.d.y-v.d.subject.y)/(window.prevZoom&&window.prevZoom.transform.k||1),r]))}));v.f("#overlay").call(e)}}),[$,I,F]),Object(r.useEffect)((function(){O?(v.g("#rectsG line").attr("stroke-width",1),v.g("#rectsG rect").attr("stroke-width",1)):(console.log("hide"),v.g("#rectsG line").attr("stroke-width",0),v.g("#rectsG rect").attr("stroke-width",0))}),[O]),n.a.createElement("main",null,n.a.createElement("button",{onClick:function(){return E(!0)},className:"edit"},n.a.createElement("img",{src:u.a,alt:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})),n.a.createElement("button",{onClick:function(){return S((function(t){return!t}))},className:"hide"},n.a.createElement("img",{src:h.a,alt:"\u0421\u043f\u0440\u044f\u0442\u0430\u0442\u044c \u043b\u0438\u043d\u0438\u0438"})),f&&n.a.createElement(s,{onClose:function(){return E(!1)},onSubmit:function(t){t.preventDefault(),W(!0);var e=new FormData(t.target.parentNode);B([parseInt(e.get("horizontal")),parseInt(e.get("vertical"))])},header:"\u041f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a\u043e\u0432",form:n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("label",{htmlFor:"horizontal"},"\u041f\u043e \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438"),n.a.createElement("input",{type:"number",placeholder:"2",id:"horizontal",min:"1",name:"horizontal"})),n.a.createElement("li",null,n.a.createElement("label",{htmlFor:"vertical"},"\u041f\u043e \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438"),n.a.createElement("input",{type:"number",placeholder:"2",id:"vertical",min:"1",name:"vertical"})))}),Z&&n.a.createElement(s,{onClose:function(){return N(!1)},onSubmit:function(t){t.preventDefault();var e=new FormData(t.target.parentNode);J(e.get("direction")),x(d.slice(a[0],a[1]),e.get("direction"))},header:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u0440\u0430\u0434\u0435\u043d\u0442\u0430",form:n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("input",{type:"radio",id:"bottom-right",name:"direction",value:"bottom-right",defaultChecked:"bottom-right"===F}),n.a.createElement("label",{for:"huey"},"-x+y")),n.a.createElement("li",null,n.a.createElement("input",{type:"radio",id:"top-right",name:"direction",value:"top-right",defaultChecked:"top-right"===F}),n.a.createElement("label",{for:"huey"},"-x-y")),n.a.createElement("li",null,n.a.createElement("input",{type:"radio",id:"top-left",name:"direction",value:"top-left",defaultChecked:"top-left"===F}),n.a.createElement("label",{for:"huey"},"x-y")),n.a.createElement("li",null,n.a.createElement("input",{type:"radio",id:"bottom-left",name:"direction",value:"bottom-left",defaultChecked:"bottom-left"===F}),n.a.createElement("label",{for:"huey"},"x+y")),n.a.createElement("li",null,n.a.createElement("input",{type:"radio",id:"center",name:"direction",value:"center",defaultChecked:"center"===F}),n.a.createElement("label",{for:"huey"},"x",n.a.createElement("sup",null,"2"),"+y",n.a.createElement("sup",null,"2"))))}),n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{id:"overlay",style:{display:Y?"block":"none"}}),n.a.createElement("div",{className:"canvas",id:"canvas"})),n.a.createElement(m,{onChange:function(t,e,a){o([t,e]),x(d.slice(t,e),F)},top:a[0],bottom:a[1],openGradientModal:function(){return N(!0)},gradientDirection:F}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.71578dff.chunk.js.map